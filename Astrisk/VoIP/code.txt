[ivr]
exten =>_X.,1,NooP(starting)
exten =>_X.,2,Answer()
exten =>_X.,3,Background(ivr)
exten =>_X.,4,WaitExten(20)

exten => 1,1,goto(option1,${EXTEN},1)
exten => 2,1,goto(option2,${EXTEN},1)
exten => 3,1,goto(option3,${EXTEN},1)
exten => 4,1,goto(option4,${EXTEN},1)
exten => 5,1,goto(option5,${EXTEN},1)
exten => 6,1,goto(option6,${EXTEN},1)
exten => 7,1,goto(option7,${EXTEN},1)
exten => 8,1,goto(option8,${EXTEN},1)
exten => 9,1,goto(option9,${EXTEN},1)

exten => t,1,Goto(ivr,${EXTEN},1)
exten => i,1,Goto(ivr,${EXTEN},1)

[option1]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="110")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="120")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="130")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="140")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="150")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="160")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="170")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="180")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="190")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option1,${EXTEN},1)
exten => i,1,Goto(option1,${EXTEN},1)


[option2]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="210")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="220")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="230")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="240")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="250")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="260")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="270")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="280")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="290")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option2,${EXTEN},1)
exten => i,1,Goto(option2,${EXTEN},1)

[option3]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="310")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="320")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="330")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="340")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="350")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="360")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="370")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="380")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="390")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option3,${EXTEN},1)
exten => i,1,Goto(option3,${EXTEN},1)

[option4]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="410")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="420")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="430")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="440")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="450")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="460")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="470")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="480")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="490")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option4,${EXTEN},1)
exten => i,1,Goto(option4,${EXTEN},1)

[option5]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="510")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="520")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="530")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="540")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="550")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="560")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="570")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="580")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="590")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option5,${EXTEN},1)
exten => i,1,Goto(option5,${EXTEN},1)

[option6]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="610")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="620")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="630")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="640")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="650")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="660")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="670")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="680")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="690")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option6,${EXTEN},1)
exten => i,1,Goto(option6,${EXTEN},1)

[option7]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="710")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="720")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="730")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="740")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="750")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="760")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="770")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="780")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="790")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option7,${EXTEN},1)
exten => i,1,Goto(option7,${EXTEN},1)

[option8]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="810")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="820")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="830")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="840")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="850")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="860")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="870")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="880")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="890")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option8,${EXTEN},1)
exten => i,1,Goto(option8,${EXTEN},1)

[option9]
exten => _X.,1,Background(Level2)
exten => _X.,2,WaitExten(20)

exten => 1,1,Set(treeid="910")
exten => 1,n,goto(option0,${EXTEN},1)
exten => 2,1,Set(treeid="920")
exten => 2,n,goto(option0,${EXTEN},1)
exten => 3,1,Set(treeid="930")
exten => 3,n,goto(option0,${EXTEN},1)
exten => 4,1,Set(treeid="940")
exten => 4,n,goto(option0,${EXTEN},1)
exten => 5,1,Set(treeid="950")
exten => 5,n,goto(option0,${EXTEN},1)
exten => 6,1,Set(treeid="960")
exten => 6,n,goto(option0,${EXTEN},1)
exten => 7,1,Set(treeid="970")
exten => 7,n,goto(option0,${EXTEN},1)
exten => 8,1,Set(treeid="980")
exten => 8,n,goto(option0,${EXTEN},1)
exten => 9,1,Set(treeid="990")
exten => 9,n,goto(option0,${EXTEN},1)

exten => t,1,Goto(option9,${EXTEN},1)
exten => i,1,Goto(option9,${EXTEN},1)

[option0]
exten => _X.,1,Background(Level3)
exten => _X.,2,WaitExten(7)

exten => h,1,System(php phpscript.php "${AMPUSER}" "${treeid}" "${file}.wav" )

exten => 0,1,Set(file=${STRFTIME(${EPOCH},,%Y%m%d_%H_%M_%S)})
exten => 0,n,MixMonitor(${file}.wav)

exten => t,1,Goto(option0,${EXTEN},1)
exten => i,1,Goto(option0,${EXTEN},1)
